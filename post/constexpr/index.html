<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.18.1" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://tenderleo.github.io/css/style.css" type="text/css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type="text/css">
<link rel="alternate" href="https://tenderleo.github.io/index.xml" type="application/rss+xml" title="">
<title>constexpr - </title>
</head>
<body>

<header>
  <div class="container clearfix">
    <span class="base05">[</span><span class="base08">t</span><span class="base09">e</span><span class="base0a">n</span>.
    <span class="base0b">d</span><span class="base0c">e</span><span class="base0d">r</span><span class="base0f">l</span>.
    <span class="base0d">e</span><span class="base0e">0</span><span class="base05">]</span>
  </div>
  
</header>

<div class="container">


<main role="main" class="article">
  
<article class="single" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="meta">

    <span class="key">published on</span>
    <span class="val"><time itemprop="datePublished" datetime="2017-02-21">February 21, 2017</time></span>


    <span class="key">in</span>
    <span class="val">

        <a href="https://tenderleo.github.io/categories/development">Development</a>

        <a href="https://tenderleo.github.io/categories/golang">GoLang</a>

    </span>


    <br>
    <span class="key">tags:</span>
    <span class="val">

        <a href="https://tenderleo.github.io/tags/development">Development</a>

        <a href="https://tenderleo.github.io/tags/golang">golang</a>

    </span>

  </div>
  <h1 class="headline" itemprop="headline">constexpr</h1>
  <section class="body" itemprop="articleBody">
    

<p>[7.1.5] the constexpr specifier</p>

<h4 id="compile-time-initialization">Compile-time initialization</h4>

<p>At machine code level, a variable defines a memory address, and it will always
have value at that address, before any user code starts running, the storage for
compile-time initialized variable is loaded/laid out with the computed value.</p>
<div class="highlight" style="background: #000000"><pre style="line-height: 125%"><span></span>  <span style="color: #00cd00">int</span> <span style="color: #cccccc">x</span> <span style="color: #3399cc">=</span> <span style="color: #cd00cd">1</span> <span style="color: #3399cc">+</span> <span style="color: #cd00cd">2</span> <span style="color: #3399cc">+</span> <span style="color: #cd00cd">3</span><span style="color: #cccccc">;</span>
</pre></div>

<p>instead of generating machine code that sums up <strong>1+2+3</strong> and assign the result to <strong>x</strong>,compiler can compute the result and bind it to <strong>x</strong> at compile time.</p>

<p>compile-time initialization may also apply to expression like <code>int x = getX()</code>, compiler will try to inline the function call, and skip machine code generation if possible.</p>

<p>a run-of-the-mill compiler will do as much as possible to optimize your runtime
performance,</p>

<p>compile time initialization</p>

<p>constant initialization.</p>

<p><a href="http://www.stderr.nl/Blog/Software/Cpp/ConstantInitialization.html">http://www.stderr.nl/Blog/Software/Cpp/ConstantInitialization.html</a></p>

  </section>
</article>

</main>


</div>

<footer>
  <div class="container">
    <span class="copyright">&copy; 2017   - <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a></span>
  </div>
</footer>

</body>
</html>

